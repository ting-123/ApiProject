!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mui=t():e.mui=t()}(self,(function(){return function(){"use strict";var e={900:function(e,t,i){function s(e,t,i,s,n,r,a,o){var d,h="function"==typeof e?e.options:e;if(t&&(h.render=t,h.staticRenderFns=i,h._compiled=!0),s&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},h._ssrRegister=d):n&&(d=o?function(){n.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(h.functional){h._injectStyles=d;var l=h.render;h.render=function(e,t){return d.call(t),l(e,t)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,d):[d]}return{exports:e,options:h}}i.d(t,{Z:function(){return s}})}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){i.r(s),i.d(s,{default:function(){return d}});var e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-sticker__wrapper",class:e.className+e.prefix+"wrapper",style:e.wrapper,attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.autoAction.apply(null,arguments)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableMove,expression:"!disableMove"}],ref:"invisible",staticClass:"vue-sticker__invisible",style:e.invisible}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableRotate,expression:"!disableRotate"}],ref:"invisibleRotate",staticClass:"vue-sticker__invisible"}),e._v(" "),i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showInner,expression:"showInner"}],staticClass:"vue-sticker__inner",style:e.stylesInner},[i("div",{style:e.backPicture},[i("div",{staticClass:"sticker__overflow",style:e.innerImageOverflow},[i("div",{staticClass:"vue-sticker__inner",class:e.className+e.prefix+"backside-image",style:e.clip})])])]),e._v(" "),i("div",{style:e.mainStyle},[i("div",{style:e.stayWrapper},[i("div",{class:e.className+e.prefix+"main-image",style:e.mainPicture})])])])])};let t,n;e._withStripped=!0;var r={name:"els-sticker",props:{d:{type:Number,required:!0},className:{type:String,default:"vue-sticker"},prefix:{type:String,default:"__"},end:{type:[Number,Boolean],default:!0,validator:function(e){return!!e&&e>0}},offset:{type:Number,default:50},deg:{type:Number},tipAnimation:{type:Boolean,default:!1}},data:()=>({distance:0,disableRotate:!1,disableMove:!1,degree:0,showInner:!1}),created(){this.tipAnimation&&(t=window.setInterval(this.showHelper,3e3))},mounted(){["mousemove","mouseleave","mousedown","mouseup"].map((e=>{this.$refs.invisible.addEventListener(e,(e=>this.movingHandler(e)))})),["mousemove","touchmove","touchend"].map((e=>{this.$refs.invisibleRotate.addEventListener(e,(e=>this.calcRotate(e)))}),{passive:!0}),this.$refs.invisibleRotate.addEventListener("mousedown",(()=>{this.disableRotate=!0}))},methods:{calcRotate(e){"touchmove"===e.type?(this.degree=180,n=e.target.getBoundingClientRect(),this.distance=e.targetTouches[0].pageY-n.top,this.showInner=!0):this.disableRotate||(this.degree=180*Math.atan2(e.offsetX-this.d/2,e.offsetY-this.d/2)/Math.PI),"touchend"===e.type&&this.animation()},movingHandler(e){switch(window.clearInterval(t),(!this.endPoint||e.offsetY<this.endPoint)&&"mouseleave"!==e.type&&(this.distance=e.offsetY,this.$emit("getPercent",this.distance/this.d)),e.type){case"mouseup":case"mouseleave":this.animation();break;case"mousemove":this.showInner=!0}},animation(e,t){let i=window.setInterval((s=>{if(this.distance>0&&this.distance<this.d||e){let i=t||this.endPoint||this.d;this.distance>=i&&(e=!1),e?this.distance+=s:this.distance-=s,this.disableRotate=!0,this.disableMove=!0,this.$emit("getPercent",this.distance/this.d)}else window.clearInterval(i),this.disableRotate=!1,this.disableMove=!1,this.showInner=!1,this.distance=0,this.$emit("getPercent",this.distance/this.d)}).bind(this,1),5)},autoAction(){this.degree=this.deg||180,this.showInner=!0,this.animation(1)},showHelper(){this.degree=this.deg||180,this.distance=0,this.showInner=!0,this.animation(1,50)}},computed:{endPoint(){return this.end>1&&this.end<this.d&&this.end},wrapper(){return{width:this.d+"px",height:this.d+"px",borderRadius:"50%",position:"relative"}},invisible(){return{transform:`rotateZ(${-this.degree-180}deg)`}},mainStyle(){let e=this.showInner?this.d-this.distance+"px":this.d+"px";return{width:this.d+"px",height:e,transformOrigin:`${this.d/2}px ${this.d/2}px`,transform:`rotateZ(${-this.degree}deg)`,overflow:"hidden"}},stayWrapper(){return{transform:`translateY(0) rotateZ(${this.degree}deg)`}},stylesInner(){return{width:this.d+"px",height:this.d+"px",top:0,left:0,zIndex:1,transformOrigin:`${this.d/2}px ${1.5*this.d}px`,transform:`translateY(${-this.d}px) rotateZ(${-this.degree-180}deg)`}},mainPicture(){return{width:this.d+"px",height:this.d+"px",transform:"translateY(0)",borderRadius:"50%"}},clip(){return{width:this.d+"px",height:this.d+"px",borderRadius:"50%",transform:`rotateY(180deg) rotateZ(${this.degree-180}deg)`}},backPicture(){return{height:`${this.d}px`,transform:`translateY(${2*this.distance}px)`}},innerImageOverflow(){return{height:this.showInner?this.distance+"px":this.d+"px",transformOrigin:`${this.d/2}px ${this.d/2}px`,overflow:"hidden",transform:"rotateZ(180deg)"}}}},a=(0,i(900).Z)(r,e,[],!1,null,null,null);a.options.__file="packages/lib/sticker/src/main.vue";var o=a.exports;o.install=function(e){e.component(o.name,o)};var d=o}(),s}()}));